# CI配置与评分标准

## 📊 **评分标准 (总分100分)**

### 1. GitHub Actions 配置文件 (30分)
- ✅ **文件位置正确** (5分): `.github/workflows/python-test.yml`
- ✅ **基本结构完整** (10分): 包含 name, on, jobs 等必要字段
- ✅ **触发条件正确** (5分): `on: [push]` 配置
- ✅ **运行环境配置** (10分): `runs-on: ubuntu-latest`

### 2. Python 环境配置 (25分)
- ✅ **代码检出** (5分): 使用 `actions/checkout@v4`
- ✅ **Python 环境设置** (10分): 使用 `actions/setup-python@v5`
- ✅ **Python 版本指定** (5分): `python-version: "3.11"`
- ✅ **依赖安装** (5分): `pip install -r requirements.txt`

### 3. 测试执行配置 (25分)
- ✅ **pytest 命令** (10分): 正确使用 pytest
- ✅ **HTML 报告生成** (10分): `--html=report.html`
- ✅ **自包含HTML** (5分): `--self-contained-html`

### 4. 项目文件完整性 (20分)
- ✅ **requirements.txt** (5分): 包含必要依赖
- ✅ **测试文件存在** (5分): 有可执行的测试文件
- ✅ **服务代码完整** (5分): checkout_service.py 功能完整
- ✅ **文件结构清晰** (5分): 项目结构合理

## 🎯 **具体评分细则**

### A级 (90-100分): 优秀
- CI配置完全正确，能够自动运行
- 所有测试通过
- HTML报告正常生成
- 代码结构清晰，无冗余文件

### B级 (80-89分): 良好
- CI配置基本正确，可能有小问题
- 大部分测试通过
- 报告生成正常
- 代码结构较好

### C级 (70-79分): 中等
- CI配置有一些错误但可修复
- 部分测试通过
- 基本功能实现

### D级 (60-69分): 及格
- CI配置存在问题
- 少量测试通过
- 基础功能不完整

### F级 (<60分): 不及格
- CI配置严重错误或缺失
- 测试无法运行
- 功能不完整

## 🔍 **检查清单**

### 必检项目：
- [ ] `.github/workflows/python-test.yml` 文件存在
- [ ] YAML语法正确
- [ ] 所有必要的actions正确配置
- [ ] requirements.txt 包含所需依赖
- [ ] 测试文件可以正常运行
- [ ] pytest 命令配置正确
- [ ] HTML报告能够生成

### 加分项目：
- [ ] 代码注释清晰
- [ ] 项目结构整洁
- [ ] 测试覆盖率高
- [ ] 错误处理完善

## 📝 **常见扣分点**

1. **配置文件错误** (-10到-20分)
   - YAML语法错误
   - 文件路径错误
   - actions版本不正确

2. **依赖问题** (-5到-15分)
   - requirements.txt缺失或不完整
   - 依赖版本冲突

3. **测试问题** (-10到-25分)
   - 测试无法运行
   - 测试用例不完整
   - 断言错误

4. **项目结构** (-5到-10分)
   - 冗余文件过多
   - 文件组织混乱
   - 缺少必要文件

## 🚀 **提升建议**

1. **确保CI能够成功运行**
2. **编写充分的测试用例**
3. **保持代码和项目结构清晰**
4. **及时清理不必要的文件**
5. **验证HTML报告生成正常**
